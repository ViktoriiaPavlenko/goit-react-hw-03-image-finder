{"version":3,"sources":["components/Modal/Modal.module.css","App.module.css","components/Button/Button.module.css","services/api.js","components/Searchbar/Searchbar.jsx","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","API","fetchImages","query","page","url","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","state","handleQueryChange","event","setState","target","value","toLowerCase","handleQuerySubmit","preventDefault","trim","toast","warn","props","onSubmit","className","styles","searchbar","form","this","type","button","buttonLabel","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","tags","src","largeImageURL","openModal","galleryItem","onClick","alt","image","ImageGallery","images","gallery","map","id","webformatURL","Button","Spinner","color","height","width","modalRoot","document","querySelector","Modal","loading","handleKeyDown","e","code","onClose","handleBackdropClick","currentTarget","handleImageLoaded","window","addEventListener","removeEventListener","createPortal","overlay","modal","onLoad","App","isLoading","modalImage","error","onSearch","fetchImage","hits","length","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","finally","onLoadMore","prevState","onScroll","setTimeout","scrollBy","top","documentElement","clientHeight","behavior","onOpenModal","dataset","largeimg","onCloseModal","prevProps","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1bb07ffa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__ts3X3\",\"modal\":\"Modal_modal__lpZBA\",\"image\":\"Modal_image__2RGSI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2kf-k\",\"error\":\"App_error__1wEUt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1F2My\"};","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23950514-2b2a864c0ec6a6714acf66442';\n\nfunction fetchImages(query, page) {\n  const url = `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`No results were found for ${query}`));\n  });\n}\n\nconst API = { fetchImages };\n\nexport default API;\n","import { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport styles from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  static propTypes = {\r\n    query: PropTypes.string,\r\n  };\r\n\r\n  handleQueryChange = event => {\r\n    this.setState({ query: event.target.value.toLowerCase() });\r\n  };\r\n\r\n  handleQuerySubmit = event => {\r\n    event.preventDefault();\r\n    const { query } = this.state;\r\n\r\n    if (query.trim() === '') {\r\n      return toast.warn('Please, enter your query');\r\n    }\r\n\r\n    this.props.onSubmit(query);\r\n\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.searchbar}>\r\n        <form className={styles.form} onSubmit={this.handleQuerySubmit}>\r\n          <button type=\"submit\" className={styles.button}>\r\n            <ImSearch />\r\n            <span className={styles.buttonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.handleQueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGalleryItem({ tags, src, largeImageURL, openModal }) {\r\n  return (\r\n    <li className={styles.galleryItem} onClick={openModal}>\r\n      <img\r\n        src={src}\r\n        alt={tags}\r\n        data-largeimg={largeImageURL}\r\n        className={styles.image}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  tags: PropTypes.string.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={styles.gallery}>\r\n      {images.map(({ id, tags, webformatURL, largeImageURL }) => {\r\n        return (\r\n          <ImageGalleryItem\r\n            key={id}\r\n            tags={tags}\r\n            src={webformatURL}\r\n            largeImageURL={largeImageURL}\r\n            openModal={openModal}\r\n          />\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n  ),\r\n  openModal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ fetchImages }) => {\r\n  return (\r\n    <button type=\"button\" onClick={fetchImages} className={styles.button}>\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nconst Spinner = () => {\r\n  return <Loader type=\"Hearts\" color=\"#00BFFF\" height={100} width={100} />;\r\n};\r\n\r\nexport default Spinner;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  state = {\r\n    loading: false,\r\n  };\r\n\r\n  static propTypes = {\r\n    loading: PropTypes.bool,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code !== 'Escape') {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleImageLoaded = () => {\r\n    this.setState({ loading: false });\r\n  };\r\n\r\n  render() {\r\n    const { src, alt } = this.props;\r\n\r\n    return createPortal(\r\n      <div onClick={this.handleBackdropClick} className={styles.overlay}>\r\n        <div className={styles.modal} onLoad={this.handleImageLoaded}>\r\n          <img className={styles.image} src={src} alt={alt}></img>\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\nimport API from './services/api';\nimport Searchbar from './components/Searchbar/Searchbar.jsx';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Spinner from './components/Loader.jsx';\nimport Modal from './components/Modal/Modal';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    images: [],\n    page: 1,\n    isLoading: false,\n    openModal: false,\n    modalImage: '',\n    alt: '',\n    error: '',\n  };\n\n  static propTypes = {\n    query: PropTypes.string,\n    images: PropTypes.array,\n    page: PropTypes.number,\n    isLoading: PropTypes.bool,\n    openModal: PropTypes.bool,\n    modalImage: PropTypes.string,\n    alt: PropTypes.string,\n    error: PropTypes.string,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.query !== this.state.query ||\n      prevState.page !== this.state.page\n    ) {\n      this.fetchImage();\n    }\n  }\n\n  onSearch = query => {\n    this.setState({ query, images: [], page: 1, error: null });\n  };\n\n  fetchImage = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n\n    API.fetchImages(query, page)\n      .then(({ hits }) => {\n        if (hits.length === 0) {\n          return toast.error(`We did not find ${query}!`, {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          });\n        }\n        this.setState(({ images, page }) => ({\n          images: [...images, ...hits],\n          page: page,\n        }));\n      })\n      .catch(error => this.setState({ error: 'Please, try again' }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onLoadMore = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n    this.onScroll();\n  };\n\n  onScroll = () => {\n    setTimeout(() => {\n      window.scrollBy({\n        top: document.documentElement.clientHeight,\n        behavior: 'smooth',\n      });\n    }, 1000);\n  };\n\n  onOpenModal = e => {\n    e.preventDefault();\n    this.setState({\n      openModal: true,\n      modalImage: e.target.dataset.largeimg,\n      alt: e.target.alt,\n    });\n  };\n\n  onCloseModal = () => {\n    this.setState({ openModal: false });\n  };\n\n  render() {\n    const { images, isLoading, openModal, modalImage, alt, error } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSearch} />\n        {isLoading && <Spinner />}\n        {images.length > 0 && !error && (\n          <>\n            <ImageGallery openModal={this.onOpenModal} images={images} />\n            <Button fetchImages={this.onLoadMore} />\n          </>\n        )}\n        {openModal && (\n          <Modal onClose={this.onCloseModal} src={modalImage} alt={alt} />\n        )}\n        {error && <p className={styles.error}>{error}</p>}\n        <ToastContainer autoClose={3000} theme={'colored'} />\n      </div>\n    );\n  }\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3Go0P\",\"form\":\"Searchbar_form__ymd1r\",\"button\":\"Searchbar_button__1Vc99\",\"buttonLabel\":\"Searchbar_buttonLabel__tipNn\",\"input\":\"Searchbar_input__32vpw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__3tmrl\",\"galleryItem\":\"ImageGallery_galleryItem__1jIRd\",\"image\":\"ImageGallery_image__1sEoU\"};"],"sourceRoot":""}